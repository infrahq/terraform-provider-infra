---
page_title: "infra_grant Resource - terraform-provider-infra"
subcategory: ""
description: |-
  Provides an Infra grant. This resource can be used to assign grants to users or groups.
---

# infra_grant

Provides an Infra grant. This resource can be used to assign grants to users or groups.

## Example Usage

```terraform
resource "infra_user" "example" {
  name = "example@example.com"
}

# Grant a user, by ID, Infra "admin"
resource "infra_grant" "infra_admin" {
  user_id = infra_user.example.id

  infra {
    role = "admin"
  }
}

# Grant a user, by name, Kubernetes admin
resource "infra_grant" "kubernetes_admin" {
  user_name = "example@example.com"

  kubernetes {
    cluster = "my_cluster"
    role    = "admin"
  }
}

resource "infra_group" "example" {
  name = "Example"
}

# Grant a group, by ID, Kubernetes namespace edit
resource "infra_grant" "kubernetes_namespace_edit" {
  group_id = infra_group.example.id

  kubernetes {
    cluster   = "my_cluster"
    role      = "edit"
    namespace = "default"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `group_id` (String) The ID of the group to assign this grant. One of `user_id`, `user_name`, `group_id`, `group_name` must be set.
- `group_name` (String) The name of the group to assign this grant. One of `user_id`, `user_name`, `group_id`, `group_name` must be set.
- `infra` (Block List, Max: 1) Infra grant configurations. One of `infra`, `kubernetes` must be set. (see [below for nested schema](#nestedblock--infra))
- `kubernetes` (Block List, Max: 1) Kubernetes grant configurations. One of `infra`, `kubernetes` must be set. (see [below for nested schema](#nestedblock--kubernetes))
- `user_id` (String) The ID of the user to assign this grant. One of `user_id`, `user_name`, `group_id`, `group_name` must be set.
- `user_name` (String) The email of the user to assign this grant. One of `user_id`, `user_name`, `group_id`, `group_name` must be set.

### Read-Only

- `id` (String) The grant's unique identifier.

<a id="nestedblock--infra"></a>
### Nested Schema for `infra`

Required:

- `role` (String) The name of the Infra role to assign to the user. Valid roles are `admin` or `view`.


<a id="nestedblock--kubernetes"></a>
### Nested Schema for `kubernetes`

Required:

- `cluster` (String) The name of the Kubernetes cluster to assign to the user.
- `role` (String) The name of the Kubernetes ClusterRole to assign to the user.

Optional:

- `namespace` (String) The namespace of the Kubernetes cluster to assign to the name.


