---
page_title: "infra_access_key Resource - terraform-provider-infra"
subcategory: ""
description: |-
  Provides an Infra access key. This resource can be used to create and manage connector access keys.
  -> This resource requires Infra server version 0.20.0 or higher.
---

# infra_access_key

Provides an Infra access key. This resource can be used to create and manage connector access keys.

-> This resource requires Infra server version 0.20.0 or higher.

## Example Usage

```terraform
# Create a connector access key that expires
# after 10 years or 7 days without any activity
resource "infra_access_key" "example" {
  expires_in         = "87660h0m0s"
  inactivity_timeout = "168h0m0s"
}

resource "helm_release" "infra" {
  repository = "https://helm.infrahq.com"
  chart      = "infra"
  version    = "0.20.9"

  name             = "infra-connector"
  namespace        = "infrahq"
  create_namespace = true

  set {
    name  = "connector.config.accessKey"
    value = infra_access_key.example.secret
  }

  set {
    name  = "connector.config.server"
    value = "https://api.infrahq.com"
  }

  set {
    name  = "connector.config.name"
    value = "my_cluster"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `expires_at` (String) The date-time when the access key will expire. Format is a RFC3339 timestamp, e.g. "2006-01-02T15:04:05Z07:00." Cannot be used with `expires_in`.
- `expires_in` (String) The total amount of time before the access key expires. Format is a duration string, a sequence of decimal numbers, each with optional fraction and a unit suffix, such as "300s" or "2h45m". Valid time units are "s", "m", "h". Default is 8766h0m0s. Cannot be used with `expires_at`.
- `inactivity_timeout` (String) The amount of time before the access key expires if left unused. If the access key is used before it expires, it will be renewed for the same duration. Format is a duration string, a sequence of decimal numbers, each with optional fraction and a unit suffix, such as "300s" or "2h45m". Valid time units are "s", "m", "h". If value is greater than or equal to the remaining lifetime of the access key, the access key will not be renewed. Default is 72h0m0s.
- `name` (String) The access key's name. If omitted, a name will be automatically generated. Identity provider names may include letters (uppercase and lowercase), numbers, underscores `_`, hyphens `-`, and periods `.`.

### Read-Only

- `id` (String) The access key's unique identifier.
- `secret` (String, Sensitive) The access key secret.


